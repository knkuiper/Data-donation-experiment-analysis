scale_fill_brewer("Set2") +
labs(title = "Preference", x = "", y = "Count") +
theme(legend.position = "none") +
theme_minimal()
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Preference", x = "", y = "Count") +
theme(legend.position = "none") +
theme_minimal()
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.5_1, fill = Q4.5_1)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.5_1, fill = Q4.5_1)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
ylim(0, 10) +
theme(legend.position = "none")
#Q4.5_1 How confident did you feel about donating data for version 1? - Version 3
ggplot(post_survey, aes(x = Q4.5_1, fill = Q4.5_1)) +
geom_boxplot() +
scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
ylim(0, 10) +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.5_1, fill = Q4.5_1)) +
geom_point() +
scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
ylim(0, 10) +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.5_1)) +
geom_density() +
#scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
#ylim(0, 10) +
theme(legend.position = "none")
#Q4.6 Which version made you feel the most confident about giving consent to donate data to the research study?
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
# Education distribution
ggplot(pre_survey, aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
# Education distribution
pre_survey$Q3.3
View(pre_survey)
nonresponse <- list(81921, 46588, 72432, 93615, 98612, 82350, 59668, 63680, 35211, 88229, 94747, 48150, 85706, 53568, 15561, 98399, 25718, 32307, 51944, 33926)
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
dplyr::select(19, 21:31) %>%
filter(!ParticipantID %in% c(excluded)) %>%
filter(!ParticipantID %in% c(nonresponse)) %>%
#mutate(Q3.2 = as.numeric(Q3.2))
pre_survet %>% mutate(Q3.3 = factor(Q3.3, levels = c("High School", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(Q3.3)) + geom_bar()
pre_survey %>% mutate(Q3.3 = factor(Q3.3, levels = c("High School", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(Q3.3)) + geom_bar()
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High School", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3))) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High School", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
## Load data
pre_survey <- read_csv("data/Clean_data/pre_survey")
# Education distribution
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High School", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
View(pre_survey)
# Education distribution
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High school", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggsave("figures/educ_dist.png")
# Gender distribution
ggplot(pre_survey, aes(x = Q3.1, fill = Q3.1)) +
geom_bar() +
scale_fill_brewer(palette = "Set2") +
labs(title = "Gender distribution", x = "Gender", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High school", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggsave("figures/educ_dist.png")
pre_survey$Q3.3
pre_survey$Q3.3[1]
mean(pre_survey$Q3.3)
avg(pre_survey$Q3.3)
# Education distribution
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High school", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", y = "Count") + #x = "Highest level of education",
theme_minimal() +
theme(legend.position = "none")
# Education distribution
pre_survey %>%
mutate(Q3.3 = factor(Q3.3, levels = c("High school", "Bachelor's degree", "Master's degree", "PhD"))) %>%
ggplot(aes(x = Q3.3, fill = Q3.3)) +
geom_bar() +
scale_fill_brewer(palette="Set2") +
labs(title= "Education distribution", x = "", y = "Count") + #x = "Highest level of education",
theme_minimal() +
theme(legend.position = "none")
ggsave("figures/educ_dist.png")
View(pre_survey)
####### Analysis of experiment data ------------
## Import libraries
library(readxl)
library(dplyr)
library(tidyverse)
library(MASS)
library(ggplot2)
library(viridis)
## Load data
pre_survey <- read_csv("data/Clean_data/pre_survey")
experiment_rounds <- read_csv("data/Clean_data/all_conditions")
experiment_round_A <- read_csv("data/Clean_data/ConditionA")
experiment_round_B <- read_csv("data/Clean_data/ConditionB")
experiment_round_C <- read_csv("data/Clean_data/ConditionC")
post_survey <- read_csv("data/Clean_data/post_survey")
View(post_survey)
View(post_survey)
View(experiment_rounds)
View(pre_survey)
res_aov <- aov(Q2.2_1 ~ Condition,
data = experiment_rounds
)
View(res_aov)
par(mfrow = c(1, 2)) # combine plots
hist(res_aov$residuals)
Q-plot
library(car)
qqPlot(res_aov$residuals,
id = FALSE # id = FALSE to remove point identification
)
View(nonresponse)
install.packages("car")
# QQ-plot
library(car)
qqPlot(res_aov$residuals,
id = FALSE # id = FALSE to remove point identification
)
shapiro.test(res_aov$residuals)
#Willingness per condition
ggplot(experiment_rounds, aes(x = Condition, y = Q2.2_1, fill = Condition)) +
geom_boxplot() +
scale_fill_brewer(palette = "Set2") +
ylim(0, 10) +
labs(title = "Donation willingness per condition", x = "", y = "Scale") +
theme_minimal() +
theme(legend.position = "none")
#Willingness per round
ggplot(experiment_rounds, aes(x = Round, y = Q2.2_1, fill = Round)) +
geom_boxplot() +
scale_fill_brewer(palette = "Set2") +
ylim(0, 10) +
labs(title = "Donation willingness per round", x = "", y = "Scale") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Condition, y = Q2.2_1, fill = Condition)) +
geom_boxplot() +
scale_fill_brewer(palette = "Set2") +
ylim(0, 10) +
labs(title = "Donation willingness per condition", x = "", y = "Scale") +
theme_minimal() +
theme(legend.position = "none")
#Q4.5_1 How confident did you feel about donating data for version 1? - Version 3
ggplot(post_survey, aes(x = Q4.5_1)) +
geom_density() +
#scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
#ylim(0, 10) +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.4_1)) +
geom_density() +
#scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
#ylim(0, 10) +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.3_1)) +
geom_density() +
#scale_fill_brewer("Set2") +
labs(title = "Confidence preference", x = "", y = "Scale") +
theme_minimal() +
#ylim(0, 10) +
theme(legend.position = "none")
#Q4.6 Which version made you feel the most confident about giving consent to donate data to the research study?
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
#Q4.6 Which version made you feel the most confident about giving consent to donate data to the research study?
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_boxplot() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
ylim(0, 5) +
theme(legend.position = "none")
ggplot(post_survey, aes(x = Q4.6, fill = Q4.6)) +
geom_bar() +
scale_fill_brewer("Set2") +
labs(title = "Version preference", x = "", y = "Count") +
theme_minimal() +
ylim(0, 4.5) +
theme(legend.position = "none")
# Dotplot
library("lattice")
dotplot(Q2.2_1 ~ Condition,
data = experiment_rounds
)
par(mfrow = c(1, 2)) # combine plots
# 1. Homogeneity of variances
plot(res_aov, which = 3)
# 2. Normality
plot(res_aov, which = 2)
group_by(experiment_rounds, Condition) %>%
summarise(
mean = mean(Q2.2_1, na.rm = TRUE),
sd = sd(Q2.2_1, na.rm = TRUE)
)
1st method:
oneway.test(Q2.2_1 ~ Condition,
data = experiment_rounds,
var.equal = TRUE # assuming equal variances
)
#ANOVA
# 2nd method:
res_aov <- aov(Q2.2_1 ~ Condition,
data = experiment_rounds
)
summary(res_aov)
View(experiment_rounds)
ggplot(experiment_rounds, aes(x = Condition, y = Q2.1, fill = Condition)) +
geom_bar()
ggplot(experiment_rounds, aes(y = Q2.1, fill = Condition)) +
geom_bar()
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, fill = Condition)) +
geom_bar()
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, fill = Q2.1)) +
geom_bar()
ggplot(pre_survey, aes(x = Q4.2, fill = Q4.2)) +
geom_bar() +
scale_fill_brewer(palette = "Set2") +
#labs(title= "Education distribution", x = "Highest level of education", y = "Count") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Q2.1, fill = Q2.1)) +
geom_col()
ggplot(experiment_rounds, aes(x = Q2.1, fill = Q2.1)) +
geom_count()
ggplot(experiment_rounds, aes(x = Q2.1, fill = Q2.1)) +
geom_freqpoly()
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, fill = Condition)) +
geom_count()
ggplot(experiment_rounds, aes(x = Q2.1, y = Conditon, fill = Condition)) +
geom_count()
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, fill = Condition)) +
geom_count()
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, fill = Condition)) +
geom_count() +
scale_fill_brewer(palette = "Set2") +
theme_minimal()
onation per condition
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, fill = Condition)) +
geom_count() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, colour = Condition)) +
geom_count() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, colour = Condition)) +
geom_jitter() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, colour = Condition)) +
geom_rect() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, y = Condition, colour = Condition)) +
geom_histogram() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
#Donation per condition
ggplot(experiment_rounds, aes(x = Q2.1, colour = Condition)) +
geom_histogram() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Q2.1, colour = Condition)) +
geom_bar() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Q2.1, fill = Condition)) +
geom_bar() +
scale_fill_brewer(palette = "Set2") +
theme_minimal() +
theme(legend.position = "none")
#Willingness per condition
ggplot(experiment_rounds, aes(x = Condition, y = Q2.2_1, fill = Condition)) +
geom_boxplot() +
scale_fill_brewer(palette = "Set2") +
ylim(0, 10) +
labs(title = "Donation willingness per condition", x = "", y = "Scale") +
theme_minimal() +
theme(legend.position = "none")
ggplot(experiment_rounds, aes(x = Condition, y = Q2.2_1, fill = Condition)) +
geom_boxplot() +
scale_fill_brewer(palette = "Set2") +
ylim(0, 10) +
labs(title = "Donation willingness per condition", x = "", y = "Scale") +
theme_minimal() +
theme(legend.position = "none")
check for normality?
res_aov <- aov(Q2.2_1 ~ Condition,
data = experiment_rounds
)
res_aov
par(mfrow = c(1, 2)) # combine plots
par
hist(res_aov$residuals)
res_aov$residuals
# QQ-plot
library(car)
qqPlot(res_aov$residuals,
id = FALSE # id = FALSE to remove point identification
)
shapiro.test(res_aov$residuals)
5.255e-05
0.0000005
.00005
0.0005255
0.00005255
# 1. Homogeneity of variances
plot(res_aov, which = 3)
# 2. Normality
plot(res_aov, which = 2)
# Mean and STD of willingness to donate Q2.2_1
group_by(experiment_rounds, Condition) %>%
summarise(
mean = mean(Q2.2_1, na.rm = TRUE),
sd = sd(Q2.2_1, na.rm = TRUE)
)
one.way <- aov(Q2.2_1 ~ Condition, data = experiment_rounds)
summary(one.way)
par(mfrow=c(2,2))
plot(two.way)
par(mfrow=c(1,1))
par(mfrow=c(2,2))
plot(one.way)
par(mfrow=c(1,1))
####### Import and clean up data sets -------------------------------
## Import libraries
library(readxl)
library(dplyr)
library(tidyverse)
## Pre survey data ---------------------------------------------------
pre_survey_text <- read_excel("data/Pre-experiment survey_text.xlsx")
#pre_survey <- read_excel("data/Pre-experiment survey.xlsx")
# Filter out excluded participants
# Filter out nonresponse participants
# Select useful columns
excluded <- list(91093, 81153, 30358, 54779, 37020, 95171, 10493, 63781, 24724,
28163, 67340, 95639, 20643, 53509, 67691, 64339, 99237)
nonresponse <- list(81921, 46588, 72432, 93615, 98612, 82350, 59668, 63680, 35211, 88229,
94747, 48150, 85706, 53568, 15561, 98399, 25718, 32307, 51944, 33926)
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
dplyr::select(19, 21:31) %>%
filter(!ParticipantID %in% c(excluded)) %>%
filter(!ParticipantID %in% c(nonresponse)) %>%
#mutate(Q3.2 = as.numeric(Q3.2))
# write out new datafile
write_csv(pre_survey_filtered, file="data/Clean_data/pre_survey")
pre_survey_text
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
dplyr::select(19, 21:31) %>%
filter(!ParticipantID %in% c(excluded)) %>%
filter(!ParticipantID %in% c(nonresponse)) %>%
#mutate(Q3.2 = as.numeric(Q3.2))
pre_survey_filtered
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
pre_survey_filtered <- pre_survey_text
####### Import and clean up data sets -------------------------------
## Import libraries
library(readxl)
library(dplyr)
library(tidyverse)
pre_survey_filtered <- pre_survey_text
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
dplyr::select(19, 21:31) %>%
filter(!ParticipantID %in% c(excluded)) %>%
filter(!ParticipantID %in% c(nonresponse)) %>%
#mutate(Q3.2 = as.numeric(Q3.2))
####### Import and clean up data sets -------------------------------
## Import libraries
library(readxl)
library(dplyr)
library(tidyverse)
## Pre survey data ---------------------------------------------------
pre_survey_text <- read_excel("data/Pre-experiment survey_text.xlsx")
#pre_survey <- read_excel("data/Pre-experiment survey.xlsx")
# Filter out excluded participants
# Filter out nonresponse participants
# Select useful columns
excluded <- list(91093, 81153, 30358, 54779, 37020, 95171, 10493, 63781, 24724,
28163, 67340, 95639, 20643, 53509, 67691, 64339, 99237)
nonresponse <- list(81921, 46588, 72432, 93615, 98612, 82350, 59668, 63680, 35211, 88229,
94747, 48150, 85706, 53568, 15561, 98399, 25718, 32307, 51944, 33926)
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
dplyr::select(19, 21:31) %>%
filter(!ParticipantID %in% c(excluded)) %>%
filter(!ParticipantID %in% c(nonresponse)) %>%
#mutate(Q3.2 = as.numeric(Q3.2))
# write out new datafile
write_csv(pre_survey_filtered, file="data/Clean_data/pre_survey")
pre_survey_filtered
pre_survey_filtered <- pre_survey_text
pre_survey_filtered <- pre_survey_text %>%
slice(-1) %>%
View(pre_survey_filtered)
